---
title: 百题复习
date: 2023-07-02
tags:
  - recover
summary: vue复习
---

## 基础
### ajax fetch axios
> 三者都属于网络请求，基于不同纬度
1. Ajax 属于技术统称
2. Fetch，是一个具体的API
3. Axios，第三方库

**XMLHttpRequest**
```js
function ajax(url) {
  const xhr = new XMLHttpRequest()
  xhr.open('GET', url, false)
  xhr.onreadystatechange = function() {
    if (xhr.readyState === 4) {
      if (xhr.status === 200) {
        console.log(xhr.responseText)
      }
    }
  }

  xhr.send(null)
}

ajax('http://tzhen.vip')
```

**fetch**
> ES6新增API，支持Promise
```js
fetch('http://127.0.0.1:8888/user/login', {
    method: 'post',
    headers: {
        'Content-Type': 'application/x-www-form-urlencoded'
    },
    body: Qs.stringify({
        account: '18310612838',
        password: md5('1234567890')
    })
}).then(response => {
    console.log(response.json())
});

fetch('http://127.0.0.1:8888/user/list').then(response => {
    console.log(response.json())
});
```

**axios**
> Axios是一个库，对ajax进行封装，支持Promise

### 防抖节流
1. 节流：限制执行频率，有节奏的执行
2. 防抖：限制执行次数，多次的密集执行只执行最后一次
3. 节流关注过程，防抖关注结果
* [防抖&节流详解](/js/2022/11/27/debounce-throttle/)

### px % em rem vw/vh
1. px 绝对单位
2. % 相对于父元素
3. em: 如果当前元素有设置font-size，则为当前font-size大小，否则根据父元素
4. rem：
5. vw
6. vh 

### HTMLCollection和NodeList
* Dom是一颗树，所有节点都是Node
* Node是Element的基类
* Element是其他HTML元素的基类，如HTMLDivElement

**Node和Element的关系**
```js
class Node {}

class CharacterData extends Node {}
class Text extends CharacterData {}
class Comment extends CharacterData {}

class Element extends Node {}
class HTMLElement extends Element {}
class HTMLDivElement extends HTMLElement {}
```

```html
<div id="d1"><p>haha</p><!--注释-->></div>

<script>
  const d1 = document.querySelector('#d1')
  console.log(d1.children instanceof HTMLCollection)
  console.log(d1.childNodes instanceof NodeList)
</script>
```

**结论**
1. HTMLCollection是Element的集合
2. NodeList是Node的集合

### computed vs watch
* [computed & watch 详解](/vue/2023/01/29/base/#computed-watch)

### Vue通讯的几种方式
1. pros/emit（父子）
2. 自定义事件（事件总线）
3. $attrs/$listeners
    - $attrs: 容器对象，存放父组件传过来且子组件未使用props声明接收的数据
    - $listeners: 实现跨组件数据传递 中间组件v-on="$listeners"
    - inheritAttrs: false; 禁止在html标签上显示传过来的数据
4. $parent/$children|$refs
5. provide和inject（跨层级）
```js
// 父组件
provide: {
  info: 'hello'
}
// 使用data中的数据
provide() {
  return {
    info: computed(() => ***.value)
  }
}
// 子组件
inject: ['info']
```
6. vuex