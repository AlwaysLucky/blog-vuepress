---
title: TCP是怎么一回事
date: 2022-07-25
tags:
  - tcp
  - udp
summary: tcp认识
---

## IP： internet protocol（网络协议）
> 数据包是如何传输的?
数据包在发送到目标主机之前，会在本身携带目标IP地址（寻址）、源IP地址(目标主机回复信息)，而这些信息会封装在IP头的数据结构中，IP头是IP数据包开头的信息，包括（源IP地址、目标IP地址、版本号、生存时间等）

> IP只负责数据包的传输，不知道要到哪个应用，因此引出了UDP、TCP协议

> UDP、TCP协议，基于IP之上和应用打交道


## UDP: user datagrma protocol（用户数据协议）
* UDP头中携带了端口号
* 优点：数据传输速度非常快，因此在对数据完整性要求不是很高的情景下适用（游戏，语音）
* 缺点1: 数据传输过程容易丢失，没有重传机制
* 缺点2: 大数据会分成一个个的小数据包经不同路由，不同时间到达接收端，UDP无法有序组装这些数据包，还原完整文件


## TCP：transmission control protocol（传输控制协议）
* 针对丢包，支持重传机制
* 引入数据包排序机制，保证了把乱数数据包合成完整文件


## 总结
* IP负责把数据包送到目标主机
* UDP负责把数据包送达具体应用
* TCP保证了数据的完整传输，tcp连接分三个阶段：建立连接、传输数据、断开连接

连接阶段：TCP三次握手建立连接
传输阶段：接收方需要发送确认到发送方，如果在规定时间内没有收到接收方反馈，则认为数据包丢失，触发发送端重发机制